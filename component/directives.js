"use strict";var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,a,i){if(a)e(t.prototype,a);if(i)e(t,i);return t}}();function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var Directives=function(){function e(t){_classCallCheck(this,e);this[t]&&this[t]()}_createClass(e,[{key:"datepicker",value:function t(){Vue.directive("datepicker",{params:["minDate","maxDate","startDate","format","datepicker","timepicker"],bind:function e(){var e={lang:"ch",closeOnDateSelect:true,timepicker:this.params.timepicker!==undefined?this.params.timepicker:false,datepicker:this.params.datepicker!==undefined?this.params.datepicker:true,format:"Y-m-d",formatDate:"Y-m-d",timeFormat:"HH:mm:ss"};if(this.params.timepicker){e.format=e.formatDate="H:i"}if(this.arg==="ym"){e.format=e.formatDate="Y-m"}if(this.params.format){e.format=e.formatDate=this.params.format}for(var t in this.params){if(this.params[t])e[t]=this.params[t]}$(this.el).datetimepicker(e)},paramWatchers:{maxDate:function t(){this.unbind().bind()},minDate:function a(){this.unbind().bind()}},unbind:function i(){$(this.el).datetimepicker("destroy");return this}})}},{key:"input",value:function a(){Vue.directive("restriction",{params:["length"],eventType:"input",bind:function e(){var e=this;switch(this.arg){case"number":this.handler=function(){e.el.value=+e.el.value.replace(/\D*/g,"")};break;case"float":this.eventType="blur";this.handler=function(){var t=+e.el.value.replace(/[^\d.]/g,"");e.el.value=isNaN(t)?0:parseFloat(t.toFixed(e.expression||2))};break;default:}this.el.addEventListener(this.eventType,this.handler)},unbind:function t(){this.el.removeEventListener(this.eventType,this.handler)}})}},{key:"select",value:function i(){Vue.directive("select",{twoWay:true,deep:true,params:["width","search","placeholder","onChange","disabled"],bind:function e(){var e={minimumResultsForSearch:this.params.search?0:-1,width:this.params.width||100,language:"zh-CN"};if(this.params.placeholder){e.placeholder=this.params.placeholder}var t=this;$(this.el).select2(e).on("change",function(){t.set($(this).val());if(t.params.onChange){t.vm[t.params.onChange]($(this).val())}})},update:function t(e){console.log(123);$(this.el).val(e).trigger("change");$(this.el).prop("disabled",this.params.disabled)},unbind:function a(){$(this.el).off().select2("destroy")}})}}]);return e}();